{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{useAuth}from'../contexts/AuthContext';import{doc,getDoc}from'firebase/firestore';import{db}from'../firebaseConfig';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const HomePage=()=>{const{currentUser}=useAuth();const[userData,setUserData]=useState(null);const[timeOfDay,setTimeOfDay]=useState('');const[soothingMessage,setSoothingMessage]=useState('');const soothingMessages=[\"You are doing great, even when it doesn't feel like it.\",\"Every step forward, no matter how small, is still a step.\",\"What's one small thing you can do for yourself today?\",\"Your feelings are valid. Allow yourself to feel them.\",\"Remember to be kind to yourself, always.\",\"What if you allowed yourself to be exactly where you are right now?\",\"You are stronger than you think.\",\"Take a deep breath. You've got this.\",\"What brings you a sense of peace today?\",\"Growth is a process, not a single event.\"];useEffect(()=>{const fetchUserData=async()=>{if(currentUser){const docRef=doc(db,'users',currentUser.uid);const docSnap=await getDoc(docRef);if(docSnap.exists()){setUserData(docSnap.data());console.log(\"User Data:\",docSnap.data());// Debugging line\n}}};const getTimeOfDay=()=>{const hour=new Date().getHours();if(hour<12)setTimeOfDay('morning');else if(hour<18)setTimeOfDay('afternoon');else setTimeOfDay('evening');};const getRandomSoothingMessage=()=>{const randomIndex=Math.floor(Math.random()*soothingMessages.length);setSoothingMessage(soothingMessages[randomIndex]);};fetchUserData();getTimeOfDay();getRandomSoothingMessage();},[currentUser]);return/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-4xl font-bold mb-4\",children:[\"Hello, \",(userData===null||userData===void 0?void 0:userData.firstName)||'User',\", good \",timeOfDay,\"!\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"my-8 p-8 bg-secondary-bg rounded-lg shadow-lg\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-lg text-text-dark\",children:soothingMessage})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-8 mt-8\",children:[/*#__PURE__*/_jsx(Link,{to:\"/mood\",className:\"bg-accent-1 p-5 rounded-lg shadow-md hover:shadow-xl transition-shadow aspect-square flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-white\",children:\"Mood\"})}),/*#__PURE__*/_jsx(Link,{to:\"/activities\",className:\"bg-accent-2 p-5 rounded-lg shadow-md hover:shadow-xl transition-shadow aspect-square flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-white\",children:\"Activity Recommendations\"})})]})]});};export default HomePage;","map":{"version":3,"names":["React","useState","useEffect","Link","useAuth","doc","getDoc","db","jsxs","_jsxs","jsx","_jsx","HomePage","currentUser","userData","setUserData","timeOfDay","setTimeOfDay","soothingMessage","setSoothingMessage","soothingMessages","fetchUserData","docRef","uid","docSnap","exists","data","console","log","getTimeOfDay","hour","Date","getHours","getRandomSoothingMessage","randomIndex","Math","floor","random","length","className","children","firstName","to"],"sources":["/Users/iantoyota/Desktop/my-mindscape/src/pages/HomePage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { doc, getDoc } from 'firebase/firestore';\nimport { db } from '../firebaseConfig';\n\nconst HomePage = () => {\n  const { currentUser } = useAuth();\n  const [userData, setUserData] = useState(null);\n  const [timeOfDay, setTimeOfDay] = useState('');\n  const [soothingMessage, setSoothingMessage] = useState('');\n\n  const soothingMessages = [\n    \"You are doing great, even when it doesn't feel like it.\",\n    \"Every step forward, no matter how small, is still a step.\",\n    \"What's one small thing you can do for yourself today?\",\n    \"Your feelings are valid. Allow yourself to feel them.\",\n    \"Remember to be kind to yourself, always.\",\n    \"What if you allowed yourself to be exactly where you are right now?\",\n    \"You are stronger than you think.\",\n    \"Take a deep breath. You've got this.\",\n    \"What brings you a sense of peace today?\",\n    \"Growth is a process, not a single event.\"\n  ];\n\n  useEffect(() => {\n    const fetchUserData = async () => {\n      if (currentUser) {\n        const docRef = doc(db, 'users', currentUser.uid);\n        const docSnap = await getDoc(docRef);\n        if (docSnap.exists()) {\n          setUserData(docSnap.data());\n          console.log(\"User Data:\", docSnap.data()); // Debugging line\n        }\n      }\n    };\n\n    const getTimeOfDay = () => {\n      const hour = new Date().getHours();\n      if (hour < 12) setTimeOfDay('morning');\n      else if (hour < 18) setTimeOfDay('afternoon');\n      else setTimeOfDay('evening');\n    };\n\n    const getRandomSoothingMessage = () => {\n      const randomIndex = Math.floor(Math.random() * soothingMessages.length);\n      setSoothingMessage(soothingMessages[randomIndex]);\n    };\n\n    fetchUserData();\n    getTimeOfDay();\n    getRandomSoothingMessage();\n  }, [currentUser]);\n\n  return (\n    <div className=\"text-center\">\n      <h1 className=\"text-4xl font-bold mb-4\">\n        Hello, {userData?.firstName || 'User'}, good {timeOfDay}!\n      </h1>\n      <div className=\"my-8 p-8 bg-secondary-bg rounded-lg shadow-lg\">\n        <p className=\"text-lg text-text-dark\">{soothingMessage}</p>\n      </div>\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8 mt-8\">\n        <Link to=\"/mood\" className=\"bg-accent-1 p-5 rounded-lg shadow-md hover:shadow-xl transition-shadow aspect-square flex items-center justify-center\">\n          <h2 className=\"text-xl font-bold text-white\">Mood</h2>\n        </Link>\n        <Link to=\"/activities\" className=\"bg-accent-2 p-5 rounded-lg shadow-md hover:shadow-xl transition-shadow aspect-square flex items-center justify-center\">\n          <h2 className=\"text-xl font-bold text-white\">Activity Recommendations</h2>\n        </Link>\n      </div>\n    </div>\n  );\n};\n\nexport default HomePage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}